# image: aw3i/pip3:0.2 # Python image
image: python:3.12
stages:          # List of stages for jobs, and their order of execution
#   - build
  - test
#   - deploy

# build-job:       # This job runs in the build stage, which runs first.
#   stage: build
#   script:
#     - echo "Compiling the code..."
#     - echo "Compile complete."

# unit-test-job:   # This job runs in the test stage.
#   stage: test    # It only starts when the job in the build stage completes successfully.
#   script:
#     - echo "Running unit tests... This will take about 60 seconds."
#     - sleep 60
#     - echo "Code coverage is 90%"

selenium-test-job:   # This job also runs in the test stage.
  services:
    - selenium/standalone-chrome
  stage: test    # It can run at the same time as unit-test-job (in parallel).
  script:
    - hostname
    - hostname -I
    - python --version
    - python3 --version
    # - python3 -m pip --version
    # - python3 -m pip install --upgrade pip
    - pip install pytest-playwright
    # - playwright install
    # - pytest
    # - pip3 --version
    # - pip install pytest-playwright
    # - playwright install
    # - pytest




# deploy-job:      # This job runs in the deploy stage.
#   stage: deploy  # It only runs when *both* jobs in the test stage complete successfully.
#   environment: production
#   script:
#     - echo "Deploying application..."
#     - echo "Application successfully deployed."
